<div class="p-4 bg-white border rounded-lg shadow-sm">

  <!-- Amount input -->
  <div class="mb-4">
    <label class="block text-sm font-medium mb-1">Amount (USD)</label>
    <input
      type="number"
      [(ngModel)]="amount"
      min="1"
      placeholder="Enter donation amount"
      class="w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-green-600 focus:border-transparent"
    />
  </div>

  <!-- Stripe payment element -->
  <div id="payment-element" class="mb-4"></div>

  <!-- Button -->
  <button
    (click)="clientSecret ? confirmPayment() : startPayment()"
    [disabled]="loading"
    class="w-full bg-green-700 hover:bg-green-800 text-white font-medium py-2 rounded-lg transition"
  >
    <span *ngIf="!loading">
      {{ clientSecret ? 'Confirm Donation' : 'Start Donation' }}
    </span>
    <span *ngIf="loading" class="flex items-center justify-center gap-2">
      <svg
        class="animate-spin h-5 w-5 text-white"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
      >
        <circle
          class="opacity-25"
          cx="12"
          cy="12"
          r="10"
          stroke="currentColor"
          stroke-width="4"
        ></circle>
        <path
          class="opacity-75"
          fill="currentColor"
          d="M4 12a8 8 0 018-8v8z"
        ></path>
      </svg>
      Processing...
    </span>
  </button>

  <!-- Messages -->
  <p *ngIf="message" class="text-green-700 mt-3 text-sm font-medium">
    {{ message }}
  </p>
  <p *ngIf="error" class="text-red-600 mt-3 text-sm font-medium">
    {{ error }}
  </p>
</div>
